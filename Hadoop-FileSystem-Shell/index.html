<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="nSQP7oenPvIzCYT8-uOKv9Ig5ENlY4CikQQkqyYkUSI" />




















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.5.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.5.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/唐_m.png?v=6.5.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/唐_s.png?v=6.5.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.5.0" color="#222">


  <link rel="manifest" href="/images/manifest.json">


  <meta name="msapplication-config" content="/images/browserconfig.xml" />







<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.5.0',
    sidebar: {"position":"left","width":240,"display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="概览文件系统（FS）shell包括各种类似shell的命令，这些命令直接与Hadoop分布式文件系统（HDFS）以及Hadoop支持的其他文件系统交互，例如本地FS，HFTP FS，S3 FS等。FS shell由以下方式调用： 1bin/hadoop fs &amp;lt;args&amp;gt; 所有FS shell命令都将路径URI作为参数。URI格式为scheme：// authority / path。">
<meta name="keywords" content="Hadoop">
<meta property="og:type" content="article">
<meta property="og:title" content="Hadoop: FileSystem Shell">
<meta property="og:url" content="https://tangguangen.com/Hadoop-FileSystem-Shell/index.html">
<meta property="og:site_name" content="逍遥&#39;s Blog">
<meta property="og:description" content="概览文件系统（FS）shell包括各种类似shell的命令，这些命令直接与Hadoop分布式文件系统（HDFS）以及Hadoop支持的其他文件系统交互，例如本地FS，HFTP FS，S3 FS等。FS shell由以下方式调用： 1bin/hadoop fs &amp;lt;args&amp;gt; 所有FS shell命令都将路径URI作为参数。URI格式为scheme：// authority / path。">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-11-29T00:35:29.698Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hadoop: FileSystem Shell">
<meta name="twitter:description" content="概览文件系统（FS）shell包括各种类似shell的命令，这些命令直接与Hadoop分布式文件系统（HDFS）以及Hadoop支持的其他文件系统交互，例如本地FS，HFTP FS，S3 FS等。FS shell由以下方式调用： 1bin/hadoop fs &amp;lt;args&amp;gt; 所有FS shell命令都将路径URI作为参数。URI格式为scheme：// authority / path。">



  <link rel="alternate" href="/atom.xml" title="逍遥's Blog" type="application/atom+xml" />




  <link rel="canonical" href="https://tangguangen.com/Hadoop-FileSystem-Shell/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Hadoop: FileSystem Shell | 逍遥's Blog</title>
  






  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?a6d90ff0ab9ce0c3ca6663780d114c37";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">逍遥's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br />首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br />标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br />分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br />归档</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-sitemap">

    
    
    
      
    

    

    <a href="/sitemap.xml" rel="section"><i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />站点地图</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />搜索</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    
  
  
  
  

  

    <span class="exturl github-corner" data-url="aHR0cHM6Ly9naXRodWIuY29tL3hndW9qaW5n" title="Follow me on GitHub" aria-label="Follow me on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill: #222; color: #fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></span>



    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tangguangen.com/Hadoop-FileSystem-Shell/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="逍遥">
      <meta itemprop="description" content="路漫漫其修远兮，吾将上下而求索">
      <meta itemprop="image" content="/images/me.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逍遥's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">Hadoop: FileSystem Shell
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-11-25 20:39:27" itemprop="dateCreated datePublished" datetime="2018-11-25T20:39:27+08:00">2018-11-25</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/大数据/" itemprop="url" rel="index"><span itemprop="name">大数据</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/Hadoop-FileSystem-Shell/" class="leancloud_visitors" data-flag-title="Hadoop: FileSystem Shell">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数：</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="概览"><a href="#概览" class="headerlink" title="概览"></a>概览</h2><p>文件系统（FS）shell包括各种类似shell的命令，这些命令直接与Hadoop分布式文件系统（HDFS）以及Hadoop支持的其他文件系统交互，例如本地FS，HFTP FS，S3 FS等。FS shell由以下方式调用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin/hadoop fs &lt;args&gt;</span><br></pre></td></tr></table></figure>
<p>所有FS shell命令都将路径URI作为参数。URI格式为<code>scheme：// authority / path</code>。对于HDFS，方案是<code>hdfs</code>，对于本地FS，方案是<code>文件</code>。该计划和权限是可选的。如果未指定，则使用配置中指定的默认方案。可以将HDFS文件或目录（例如/ parent / child）指定为<code>hdfs：// namenodehost / parent / child</code>或简单地指定为<code>/ parent / child</code>（假设您的配置设置为指向<code>hdfs：// namenodehost</code>）。</p>
<p>FS shell中的大多数命令都表现得像对应的Unix命令。使用每个命令描述差异。错误信息发送到stderr，输出发送到stdout。</p>
<p>如果正在使用HDFS，则<code>hdfs dfs</code>是同义词。</p>
<p>可以使用相对路径。对于HDFS，当前工作目录是HDFS主目录<code>/ user / &lt;username&gt;</code>，通常必须手动创建。也可以隐式访问HDFS主目录，例如，当使用HDFS垃圾文件夹时，主目录中的<code>.Trash</code>目录。</p>
<p>有关通用shell选项，请参阅<span class="exturl" data-url="aHR0cDovL2hhZG9vcC5hcGFjaGUub3JnL2RvY3Mvc3RhYmxlL2hhZG9vcC1wcm9qZWN0LWRpc3QvaGFkb29wLWNvbW1vbi9Db21tYW5kc01hbnVhbC5odG1s" title="http://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/CommandsManual.html">命令手册<i class="fa fa-external-link"></i></span>。</p>
<h2 id="appendToFile"><a href="#appendToFile" class="headerlink" title="appendToFile"></a>appendToFile</h2><p>用法：<code>hadoop fs -appendToFile &lt;localsrc&gt; ... &lt;dst&gt;</code></p>
<p>将单个src或多个srcs从本地文件系统附加到目标文件系统。还从stdin读取输入并附加到目标文件系统。</p>
<ul>
<li><code>hadoop fs -appendToFile localfile /user/hadoop/hadoopfile</code></li>
<li><code>hadoop fs -appendToFile localfile1 localfile2 /user/hadoop/hadoopfile</code></li>
<li><code>hadoop fs -appendToFile localfile hdfs://nn.example.com/hadoop/hadoopfile</code></li>
<li><code>hadoop fs -appendToFile - hdfs://nn.example.com/hadoop/hadoopfile</code> Reads the input from stdin.</li>
</ul>
<p>退出代码：</p>
<p>成功时返回0，错误时返回1。</p>
<h2 id="cat"><a href="#cat" class="headerlink" title="cat"></a>cat</h2><p>用法：<code>hadoop fs -cat [-ignoreCrc] URI [URI ...]</code></p>
<p>将源路径复制到stdout。</p>
<p>选项</p>
<ul>
<li>该<code>-ignoreCrc</code>选项禁用checkshum验证。</li>
</ul>
<p>例：</p>
<ul>
<li><code>hadoop fs -cat hdfs：//nn1.example.com/file1 hdfs：//nn2.example.com/file2</code></li>
<li><code>hadoop fs -cat file：/// file3 / user / hadoop / file4</code></li>
</ul>
<p>退出代码：</p>
<p>成功时返回0，错误时返回-1。</p>
<h2 id="checksum"><a href="#checksum" class="headerlink" title="checksum"></a>checksum</h2><p>用法：<code>hadoop fs -checksum URI</code></p>
<p>返回文件的校验和信息。</p>
<p>例：</p>
<ul>
<li><code>hadoop fs -checksum hdfs：//nn1.example.com/file1</code></li>
<li><code>hadoop fs -checksum file：/// etc / hosts</code></li>
</ul>
<h2 id="chgrp"><a href="#chgrp" class="headerlink" title="chgrp"></a>chgrp</h2><p>用法：<code>hadoop fs -chgrp [-R] GROUP URI [URI ...]</code></p>
<p>更改文件的组关联。用户必须是文件的所有者，否则必须是超级用户。其他信息在“ <span class="exturl" data-url="aHR0cDovL2hhZG9vcC5hcGFjaGUub3JnL2RvY3Mvc3RhYmxlL2hhZG9vcC1wcm9qZWN0LWRpc3QvaGFkb29wLWhkZnMvSGRmc1Blcm1pc3Npb25zR3VpZGUuaHRtbA==" title="http://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-hdfs/HdfsPermissionsGuide.html">权限指南”中<i class="fa fa-external-link"></i></span>。</p>
<p>选项</p>
<ul>
<li>-R选项将通过目录结构递归地进行更改。</li>
</ul>
<h2 id="CHMOD"><a href="#CHMOD" class="headerlink" title="CHMOD"></a>CHMOD</h2><p>用法：<code>hadoop fs -chmod [-R] &lt;MODE [，MODE] ... | OCTALMODE&gt; URI [URI ...]</code></p>
<p>更改文件的权限。使用-R，通过目录结构递归更改。用户必须是文件的所有者，否则必须是超级用户。其他信息在“ <span class="exturl" data-url="aHR0cDovL2hhZG9vcC5hcGFjaGUub3JnL2RvY3Mvc3RhYmxlL2hhZG9vcC1wcm9qZWN0LWRpc3QvaGFkb29wLWhkZnMvSGRmc1Blcm1pc3Npb25zR3VpZGUuaHRtbA==" title="http://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-hdfs/HdfsPermissionsGuide.html">权限指南”中<i class="fa fa-external-link"></i></span>。</p>
<p>选项</p>
<ul>
<li>-R选项将通过目录结构递归地进行更改。</li>
</ul>
<h2 id="CHOWN"><a href="#CHOWN" class="headerlink" title="CHOWN"></a>CHOWN</h2><p>用法：<code>hadoop fs -chown [-R] [OWNER] [：[GROUP]] URI [URI]</code></p>
<p>更改文件的所有者。用户必须是超级用户。其他信息在“ <span class="exturl" data-url="aHR0cDovL2hhZG9vcC5hcGFjaGUub3JnL2RvY3Mvc3RhYmxlL2hhZG9vcC1wcm9qZWN0LWRpc3QvaGFkb29wLWhkZnMvSGRmc1Blcm1pc3Npb25zR3VpZGUuaHRtbA==" title="http://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-hdfs/HdfsPermissionsGuide.html">权限指南”中<i class="fa fa-external-link"></i></span>。</p>
<p>选项</p>
<ul>
<li>-R选项将通过目录结构递归地进行更改。</li>
</ul>
<h2 id="copyFromLocal"><a href="#copyFromLocal" class="headerlink" title="copyFromLocal"></a>copyFromLocal</h2><p>用法：<code>hadoop fs -copyFromLocal &lt;localsrc&gt; URI</code></p>
<p>与<code>fs -put</code>命令类似，但源仅限于本地文件引用。</p>
<p>选项：</p>
<ul>
<li><code>-p</code>：保留访问和修改时间，所有权和权限。（假设权限可以跨文件系统传播）</li>
<li><code>-f</code>：覆盖目标（如果已存在）。</li>
<li><code>-l</code>：允许DataNode懒惰地将文件持久保存到磁盘，强制复制因子为1.此标志将导致持久性降低。小心使用。</li>
<li><code>-d</code>：使用后缀<code>._COPYING_</code>跳过创建临时文件。</li>
</ul>
<h2 id="copyToLocal"><a href="#copyToLocal" class="headerlink" title="copyToLocal"></a>copyToLocal</h2><p>用法：<code>hadoop fs -copyToLocal [-ignorecrc] [-crc] URI &lt;localdst&gt;</code></p>
<p>与get命令类似，但目标仅限于本地文件引用。</p>
<h2 id="count"><a href="#count" class="headerlink" title="count"></a>count</h2><p>用法：<code>hadoop fs -count [-q] [-h] [-v] [-x] [-t [&lt;存储类型&gt;]] [-u] &lt;路径&gt;</code></p>
<p>计算与指定文件模式匹配的路径下的目录，文件和字节数。获取配额和使用情况。-count的输出列为：DIR_COUNT，FILE_COUNT，CONTENT_SIZE，PATHNAME</p>
<p>-u和-q选项控制输出包含的列。-q表示显示配额，-u限制输出以仅显示配额和使用情况。</p>
<p>-count -q的输出列为：QUOTA，REMAINING_QUOTA，SPACE_QUOTA，REMAINING_SPACE_QUOTA，DIR_COUNT，FILE_COUNT，CONTENT_SIZE，PATHNAME</p>
<p>-count -u的输出列为：QUOTA，REMAINING_QUOTA，SPACE_QUOTA，REMAINING_SPACE_QUOTA，PATHNAME</p>
<p>-t选项显示每种存储类型的配额和使用情况。如果未给出-u或-q选项，则忽略-t选项。可以在-t选项中使用的可能参数列表（除参数“”之外不区分大小写）：“”，“all”，“ram_disk”，“ssd”，“disk”或“archive”。</p>
<p>-h选项以人类可读格式显示大小。</p>
<p>-v选项显示标题行。</p>
<p>-x选项从结果计算中排除快照。如果没有-x选项（默认），则始终从所有INode计算结果，包括给定路径下的所有快照。如果给出-u或-q选项，则忽略-x选项。</p>
<p>例：</p>
<ul>
<li><code>hadoop fs -count hdfs：//nn1.example.com/file1 hdfs：//nn2.example.com/file2</code></li>
<li><code>hadoop fs -count -q hdfs：//nn1.example.com/file1</code></li>
<li><code>hadoop fs -count -q -h hdfs：//nn1.example.com/file1</code></li>
<li><code>hadoop fs -count -q -h -v hdfs：//nn1.example.com/file1</code></li>
<li><code>hadoop fs -count -u hdfs：//nn1.example.com/file1</code></li>
<li><code>hadoop fs -count -u -h hdfs：//nn1.example.com/file1</code></li>
<li><code>hadoop fs -count -u -h -v hdfs：//nn1.example.com/file1</code></li>
</ul>
<p>退出代码：</p>
<p>成功时返回0，错误时返回-1</p>
<h2 id="CP"><a href="#CP" class="headerlink" title="CP"></a>CP</h2><p>用法：<code>hadoop fs -cp [-f] [-p | -p [topax]] URI [URI ...] &lt;dest&gt;</code></p>
<p>将文件从源复制到目标。此命令也允许多个源，在这种情况下，目标必须是目录。</p>
<p>如果（1）源文件系统和目标文件系统支持它们（仅限HDFS），并且（2）所有源和目标路径名都在/.reserved/raw层次结构中，则保留’raw。<em>‘命名空间扩展属性。是否保留raw。</em> namespace xattrs的确定与-p（保留）标志无关。</p>
<p>选项：</p>
<ul>
<li>如果目标已存在，则-f选项将覆盖目标。</li>
<li>-p选项将保留文件属性[topx]（时间戳，所有权，权限，ACL，XAttr）。如果指定了-p而没有<em>arg</em>，则保留时间戳，所有权和权限。如果指定了-pa，则还保留权限，因为ACL是一组超级权限。确定是否保留原始命名空间扩展属性与-p标志无关。</li>
</ul>
<p>例：</p>
<ul>
<li><code>hadoop fs -cp / user / hadoop / file1 / user / hadoop / file2</code></li>
<li><code>hadoop fs -cp / user / hadoop / file1 / user / hadoop / file2 / user / hadoop / dir</code></li>
</ul>
<p>退出代码：</p>
<p>成功时返回0，错误时返回-1。</p>
<h2 id="createSnapshot"><a href="#createSnapshot" class="headerlink" title="createSnapshot"></a>createSnapshot</h2><p>请参阅“ <span class="exturl" data-url="aHR0cDovL2hhZG9vcC5hcGFjaGUub3JnL2RvY3Mvc3RhYmxlL2hhZG9vcC1wcm9qZWN0LWRpc3QvaGFkb29wLWhkZnMvSGRmc1NuYXBzaG90cy5odG1s" title="http://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-hdfs/HdfsSnapshots.html">HDFS快照指南”<i class="fa fa-external-link"></i></span>。</p>
<h2 id="deleteSnapshot"><a href="#deleteSnapshot" class="headerlink" title="deleteSnapshot"></a>deleteSnapshot</h2><p>请参阅“ <span class="exturl" data-url="aHR0cDovL2hhZG9vcC5hcGFjaGUub3JnL2RvY3Mvc3RhYmxlL2hhZG9vcC1wcm9qZWN0LWRpc3QvaGFkb29wLWhkZnMvSGRmc1NuYXBzaG90cy5odG1s" title="http://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-hdfs/HdfsSnapshots.html">HDFS快照指南”<i class="fa fa-external-link"></i></span>。</p>
<h2 id="df"><a href="#df" class="headerlink" title="df"></a>df</h2><p>用法：<code>hadoop fs -df [-h] URI [URI ...]</code></p>
<p>显示可用空间。</p>
<p>选项：</p>
<ul>
<li>-h选项将以“人类可读”的方式格式化文件大小（例如64.0m而不是67108864）</li>
</ul>
<p>例：</p>
<ul>
<li><code>hadoop dfs -df / user / hadoop / dir1</code></li>
</ul>
<h2 id="du"><a href="#du" class="headerlink" title="du"></a>du</h2><p>用法：<code>hadoop fs -du [-s] [-h] [-x] URI [URI ...]</code></p>
<p>显示给定目录中包含的文件和目录的大小或文件的长度，以防它只是一个文件。</p>
<p>选项：</p>
<ul>
<li>-s选项将导致显示文件长度的汇总摘要，而不是单个文件。如果没有-s选项，则通过从给定路径向上移动1级来完成计算。</li>
<li>-h选项将以“人类可读”的方式格式化文件大小（例如64.0m而不是67108864）</li>
<li>-x选项将从结果计算中排除快照。如果没有-x选项（默认），则始终从所有INode计算结果，包括给定路径下的所有快照。</li>
</ul>
<p>du返回三列，格式如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">size disk_space_consumed_with_all_replicas full_path_name</span><br></pre></td></tr></table></figure>
<p>例：</p>
<ul>
<li><code>hadoop fs -du / user / hadoop / dir1 / user / hadoop / file1 hdfs：//nn.example.com/user/hadoop/dir1</code></li>
</ul>
<p>退出代码：成功时返回0，错误时返回-1。</p>
<h2 id="dus"><a href="#dus" class="headerlink" title="dus"></a>dus</h2><p>用法：<code>hadoop fs -dus &lt;args&gt;</code></p>
<p>显示文件长度的摘要。</p>
<p><strong>注意：</strong>不推荐使用此命令。而是使用<code>hadoop fs -du -s</code>。</p>
<h2 id="expunge"><a href="#expunge" class="headerlink" title="expunge"></a>expunge</h2><p>用法：<code>hadoop fs -expunge</code></p>
<p>从trash目录中永久删除早于保留阈值的检查点中的文件，并创建新的检查点。</p>
<p>创建检查点时，垃圾箱中最近删除的文件将移动到检查点下。早于<code>fs.trash.interval的</code>检查点中的文件将在下次调用<code>-expunge</code>命令时被永久删除。</p>
<p>如果文件系统支持该功能，则用户可以配置为通过存储为<code>fs.trash.checkpoint.interval</code>的参数（在core-site.xml中）定期创建和删除检查点。该值应小于或等于<code>fs.trash.interval</code>。</p>
<p>有关<span class="exturl" data-url="aHR0cDovL2hhZG9vcC5hcGFjaGUub3JnL2RvY3Mvc3RhYmxlL2hhZG9vcC1wcm9qZWN0LWRpc3QvaGFkb29wLWhkZnMvSGRmc0Rlc2lnbi5odG1sI0ZpbGVfRGVsZXRlc19hbmRfVW5kZWxldGVz" title="http://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-hdfs/HdfsDesign.html#File_Deletes_and_Undeletes">HDFS<i class="fa fa-external-link"></i></span>垃圾功能的更多信息，请参阅<span class="exturl" data-url="aHR0cDovL2hhZG9vcC5hcGFjaGUub3JnL2RvY3Mvc3RhYmxlL2hhZG9vcC1wcm9qZWN0LWRpc3QvaGFkb29wLWhkZnMvSGRmc0Rlc2lnbi5odG1sI0ZpbGVfRGVsZXRlc19hbmRfVW5kZWxldGVz" title="http://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-hdfs/HdfsDesign.html#File_Deletes_and_Undeletes">HDFS体系结构指南<i class="fa fa-external-link"></i></span>。</p>
<h2 id="find"><a href="#find" class="headerlink" title="find"></a>find</h2><p>用法：<code>hadoop fs -find &lt;path&gt; ... &lt;expression&gt; ...</code></p>
<p>查找与指定表达式匹配的所有文件，并将选定的操作应用于它们。如果未指定<em>路径</em>，则默认为当前工作目录。如果未指定表达式，则默认为-print。</p>
<p>识别以下主要表达式：</p>
<ul>
<li><p>-name pattern<br>-iname pattern</p>
<p>如果文件的基名与使用标准文件系统通配符的模式匹配，则求值为true。如果使用-iname，则匹配不区分大小写。</p>
</li>
<li><p>-print<br>-print0</p>
<p>始终评估为true。导致将当前路径名写入标准输出。如果使用-print0表达式，则附加ASCII NULL字符。</p>
</li>
</ul>
<p>识别以下运算符：</p>
<ul>
<li><p>表达式-a表达式<br>表达式和表达式<br>表达式表达式</p>
<p>用于连接两个表达式的逻辑AND运算符。如果两个子表达式都返回true，则返回true。由两个表达式的并置所暗示，因此不需要明确指定。如果第一个表达式失败，则不会应用第二个表达式。</p>
</li>
</ul>
<p>例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -find / -name <span class="built_in">test</span> -<span class="built_in">print</span></span><br></pre></td></tr></table></figure>
<p>退出代码：</p>
<p>成功时返回0，错误时返回-1。</p>
<h2 id="get"><a href="#get" class="headerlink" title="get"></a>get</h2><p>用法：<code>hadoop fs -get [-ignorecrc] [-crc] [-p] [-f] &lt;src&gt; &lt;localdst&gt;</code></p>
<p>将文件复制到本地文件系统。可以使用-ignorecrc选项复制CRC校验失败的文件。可以使用-crc选项复制文件和CRC。</p>
<p>例：</p>
<ul>
<li><code>hadoop fs -get / user / hadoop / file localfile</code></li>
<li><code>hadoop fs -get hdfs：//nn.example.com/user/hadoop/file localfile</code></li>
</ul>
<p>退出代码：</p>
<p>成功时返回0，错误时返回-1。</p>
<p>选项：</p>
<ul>
<li><code>-p</code>：保留访问和修改时间，所有权和权限。（假设权限可以跨文件系统传播）</li>
<li><code>-f</code>：覆盖目标（如果已存在）。</li>
<li><code>-ignorecrc</code>：对下载的文件进行跳过CRC校验。</li>
<li><code>-crc</code>：为下载的文件写入CRC校验和。</li>
</ul>
<h2 id="getfacl"><a href="#getfacl" class="headerlink" title="getfacl"></a>getfacl</h2><p>用法：<code>hadoop fs -getfacl [-R] &lt;path&gt;</code></p>
<p>显示文件和目录的访问控制列表（ACL）。如果目录具有默认ACL，则getfacl还会显示默认ACL。</p>
<p>选项：</p>
<ul>
<li>-R：递归列出所有文件和目录的ACL。</li>
<li><em>path</em>：要列出的文件或目录。</li>
</ul>
<p>例子：</p>
<ul>
<li><code>hadoop fs -getfacl / file</code></li>
<li><code>hadoop fs -getfacl -R / dir</code></li>
</ul>
<p>退出代码：</p>
<p>成功时返回0，错误时返回非零。</p>
<h2 id="getfattr"><a href="#getfattr" class="headerlink" title="getfattr"></a>getfattr</h2><p>用法：<code>hadoop fs -getfattr [-R] -n name | -d [-e en] &lt;path&gt;</code></p>
<p>显示文件或目录的扩展属性名称和值（如果有）。</p>
<p>选项：</p>
<ul>
<li>-R：递归列出所有文件和目录的属性。</li>
<li>-n name：转储指定的扩展属性值。</li>
<li>-d：转储与pathname关联的所有扩展属性值。</li>
<li>-e <em>encoding</em>：检索后<em>对代码</em>值进行编码。有效编码为“text”，“hex”和“base64”。编码为文本字符串的值用双引号（“）括起来，编码为十六进制和base64的值分别以0x和0为前缀。</li>
<li><em>path</em>：文件或目录。</li>
</ul>
<p>例子：</p>
<ul>
<li><code>hadoop fs -getfattr -d / file</code></li>
<li><code>hadoop fs -getfattr -R -n user.myAttr / dir</code></li>
</ul>
<p>退出代码：</p>
<p>成功时返回0，错误时返回非零。</p>
<h2 id="getmerge"><a href="#getmerge" class="headerlink" title="getmerge"></a>getmerge</h2><p>用法：<code>hadoop fs -getmerge [-nl] &lt;src&gt; &lt;localdst&gt;</code></p>
<p>将源目录和目标文件作为输入，并将src中的文件连接到目标本地文件。可选地，-nl可以设置为在每个文件的末尾添加换行符（LF）。-skip-empty-file可用于在空文件的情况下避免不需要的换行符。</p>
<p>例子：</p>
<ul>
<li><code>hadoop fs -getmerge -nl / src /opt/output.txt</code></li>
<li><code>hadoop fs -getmerge -nl /src/file1.txt /src/file2.txt /output.txt</code></li>
</ul>
<p>退出代码：</p>
<p>成功时返回0，错误时返回非零。</p>
<h2 id="help"><a href="#help" class="headerlink" title="help"></a>help</h2><p>用法：<code>hadoop fs -help</code></p>
<p>返回使用输出。</p>
<h2 id="ls"><a href="#ls" class="headerlink" title="ls"></a>ls</h2><p>用法：<code>hadoop fs -ls [-C] [-d] [-h] [-q] [-R] [-t] [-S] [-r] [-u] &lt;args&gt;</code></p>
<p>选项：</p>
<ul>
<li>-C：仅显示文件和目录的路径。</li>
<li>-d：目录列为纯文件。</li>
<li>-h：以人类可读的方式格式化文件大小（例如64.0m而不是67108864）。</li>
<li>-q：打印？而不是不可打印的字符。</li>
<li>-R：递归列出遇到的子目录。</li>
<li>-t：按修改时间排序输出（最近的第一个）。</li>
<li>-S：按文件大小排序输出。</li>
<li>-r：反转排序顺序。</li>
<li>-u：使用访问时间而不是修改时间进行显示和排序。</li>
</ul>
<p>对于文件，ls使用以下格式返回文件的stat：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">permissions number_of_replicas userid groupid filesize modification_date modification_time filename</span><br></pre></td></tr></table></figure>
<p>对于目录，它返回其直接子节点的列表，如在Unix中。目录列为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">permissions userid groupid modification_date modification_time dirname</span><br></pre></td></tr></table></figure>
<p>默认情况下，目录中的文件按文件名排序。</p>
<p>例：</p>
<ul>
<li><code>hadoop fs -ls / user / hadoop / file1</code></li>
</ul>
<p>退出代码：</p>
<p>成功时返回0，错误时返回-1。</p>
<h2 id="lsr"><a href="#lsr" class="headerlink" title="lsr"></a>lsr</h2><p>用法：<code>hadoop fs -lsr &lt;args&gt;</code></p>
<p>ls的递归版本。</p>
<p><strong>注意：</strong>不推荐使用此命令。而是使用<code>hadoop fs -ls -R</code></p>
<h2 id="mkdir"><a href="#mkdir" class="headerlink" title="mkdir"></a>mkdir</h2><p>用法：<code>hadoop fs -mkdir [-p] &lt;paths&gt;</code></p>
<p>将路径uri作为参数并创建目录。</p>
<p>选项：</p>
<ul>
<li>-p选项行为与Unix mkdir -p非常相似，沿路径创建父目录。</li>
</ul>
<p>例：</p>
<ul>
<li><code>hadoop fs -mkdir / user / hadoop / dir1 / user / hadoop / dir2</code></li>
<li><code>hadoop fs -mkdir hdfs：//nn1.example.com/user/hadoop/dir hdfs：//nn2.example.com/user/hadoop/dir</code></li>
</ul>
<p>退出代码：</p>
<p>成功时返回0，错误时返回-1</p>
<h2 id="moveFromLocal"><a href="#moveFromLocal" class="headerlink" title="moveFromLocal"></a>moveFromLocal</h2><p>用法：<code>hadoop fs -moveFromLocal &lt;localsrc&gt; &lt;dst&gt;</code></p>
<p>与put命令类似，只是在复制后删除了源localsrc。</p>
<h2 id="moveToLocal"><a href="#moveToLocal" class="headerlink" title="moveToLocal"></a>moveToLocal</h2><p>用法：<code>hadoop fs -moveToLocal [-crc] &lt;src&gt; &lt;dst&gt;</code></p>
<p>显示“尚未实现”消息。</p>
<h2 id="mv"><a href="#mv" class="headerlink" title="mv"></a>mv</h2><p>用法：<code>hadoop fs -mv URI [URI ...] &lt;dest&gt;</code></p>
<p>将文件从源移动到目标。此命令也允许多个源，在这种情况下，目标需要是目录。不允许跨文件系统移动文件。</p>
<p>例：</p>
<ul>
<li><code>hadoop fs -mv / user / hadoop / file1 / user / hadoop / file2</code></li>
<li><code>hadoop fs -mv hdfs：//nn.example.com/file1 hdfs：//nn.example.com/file2 hdfs：//nn.example.com/file3 hdfs：//nn.example.com/dir1</code></li>
</ul>
<p>退出代码：</p>
<p>成功时返回0，错误时返回-1。</p>
<h2 id="put"><a href="#put" class="headerlink" title="put"></a>put</h2><p>用法：<code>hadoop fs -put [-f] [-p] [-l] [-d] [ - | &lt;localsrc1&gt; ..]。&lt;DST&gt;</code></p>
<p>将单个src或多个srcs从本地文件系统复制到目标文件系统。如果源设置为“ - ”，还从stdin读取输入并写入目标文件系统</p>
<p>如果文件已存在，则复制失败，除非给出-f标志。</p>
<p>选项：</p>
<ul>
<li><code>-p</code>：保留访问和修改时间，所有权和权限。（假设权限可以跨文件系统传播）</li>
<li><code>-f</code>：覆盖目标（如果已存在）。</li>
<li><code>-l</code>：允许DataNode懒惰地将文件持久保存到磁盘，强制复制因子为1.此标志将导致持久性降低。小心使用。</li>
<li><code>-d</code>：使用后缀<code>._COPYING_</code>跳过创建临时文件。</li>
</ul>
<p>例子：</p>
<ul>
<li><code>hadoop fs -put localfile / user / hadoop / hadoopfile</code></li>
<li><code>hadoop fs -put -f localfile1 localfile2 / user / hadoop / hadoopdir</code></li>
<li><code>hadoop fs -put -d localfile hdfs：//nn.example.com/hadoop/hadoopfile</code></li>
<li><code>hadoop fs -put - hdfs：//nn.example.com/hadoop/hadoopfile</code>从stdin读取输入。</li>
</ul>
<p>退出代码：</p>
<p>成功时返回0，错误时返回-1。</p>
<h2 id="renameSnapshot"><a href="#renameSnapshot" class="headerlink" title="renameSnapshot"></a>renameSnapshot</h2><p>请参阅“ <span class="exturl" data-url="aHR0cDovL2hhZG9vcC5hcGFjaGUub3JnL2RvY3Mvc3RhYmxlL2hhZG9vcC1wcm9qZWN0LWRpc3QvaGFkb29wLWhkZnMvSGRmc1NuYXBzaG90cy5odG1s" title="http://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-hdfs/HdfsSnapshots.html">HDFS快照指南”<i class="fa fa-external-link"></i></span>。</p>
<h2 id="rm"><a href="#rm" class="headerlink" title="rm"></a>rm</h2><p>用法：<code>hadoop fs -rm [-f] [-r | -R] [-skipTrash] [-safely] URI [URI ...]</code></p>
<p>删除指定为args的文件。</p>
<p>如果启用了垃圾箱，则文件系统会将已删除的文件移动到垃圾箱目录（由<span class="exturl" data-url="aHR0cDovL2hhZG9vcC5hcGFjaGUub3JnL2RvY3Mvc3RhYmxlL2FwaS9vcmcvYXBhY2hlL2hhZG9vcC9mcy9GaWxlU3lzdGVtLmh0bWw=" title="http://hadoop.apache.org/docs/stable/api/org/apache/hadoop/fs/FileSystem.html">FileSystem＃getTrashRoot提供<i class="fa fa-external-link"></i></span>）。</p>
<p>目前，默认情况下禁用垃圾箱功能。用户可以通过为参数<code>fs.trash.interval</code>（在core-site.xml中）设置大于零的值来启用垃圾。</p>
<p>请参阅<span class="exturl" data-url="aHR0cDovL2hhZG9vcC5hcGFjaGUub3JnL2RvY3Mvc3RhYmxlL2hhZG9vcC1wcm9qZWN0LWRpc3QvaGFkb29wLWNvbW1vbi9GaWxlU3lzdGVtU2hlbGwuaHRtbCNleHB1bmdl" title="http://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/FileSystemShell.html#expunge">删除<i class="fa fa-external-link"></i></span>有关删除垃圾箱中文件的信息。</p>
<p>选项：</p>
<ul>
<li>如果文件不存在，-f选项将不显示诊断消息或修改退出状态以反映错误。</li>
<li>-R选项以递归方式删除目录及其下的任何内容。</li>
<li>-r选项等效于-R。</li>
<li>-skipTrash选项将绕过垃圾桶（如果已启用），并立即删除指定的文件。当需要从超配额目录中删除文件时，这非常有用。</li>
<li>-safely选项在删除目录之前需要安全确认，文件总数大于<code>hadoop.shell.delete.limit.num.files</code>（在core-site.xml中，默认值：100）。它可以与-skipTrash一起使用，以防止意外删除大目录。当递归地遍历大目录以计算在确认之前要删除的文件的数量时，预期延迟。</li>
</ul>
<p>例：</p>
<ul>
<li><code>hadoop fs -rm hdfs：//nn.example.com/file / user / hadoop / emptydir</code></li>
</ul>
<p>退出代码：</p>
<p>成功时返回0，错误时返回-1。</p>
<h2 id="rmdir"><a href="#rmdir" class="headerlink" title="rmdir"></a>rmdir</h2><p>用法：<code>hadoop fs -rmdir [--ignore-fail-on-non-empty] URI [URI ...]</code></p>
<p>删除目录。</p>
<p>选项：</p>
<ul>
<li><code>--ignore-fail-on-non-empty</code>：使用通配符时，如果目录仍包含文件，请不要失败。</li>
</ul>
<p>例：</p>
<ul>
<li><code>hadoop fs -rmdir / user / hadoop / emptydir</code></li>
</ul>
<h2 id="rmr"><a href="#rmr" class="headerlink" title="rmr"></a>rmr</h2><p>用法：<code>hadoop fs -rmr [-skipTrash] URI [URI ...]</code></p>
<p>删除的递归版本。</p>
<p><strong>注意：</strong>不推荐使用此命令。而是使用<code>hadoop fs -rm -r</code></p>
<h2 id="setfacl"><a href="#setfacl" class="headerlink" title="setfacl"></a>setfacl</h2><p>用法：<code>hadoop fs -setfacl [-R] [-b | -k -m | -x &lt;acl_spec&gt; &lt;path&gt;] | [ - set &lt;acl_spec&gt; &lt;path&gt;]</code></p>
<p>设置文件和目录的访问控制列表（ACL）。</p>
<p>选项：</p>
<ul>
<li>-b：删除除基本ACL条目之外的所有条目。保留用户，组和其他条目以与权限位兼容。</li>
<li>-k：删除默认ACL。</li>
<li>-R：递归地对所有文件和目录应用操作。</li>
<li>-m：修改ACL。新条目将添加到ACL，并保留现有条目。</li>
<li>-x：删除指定的ACL条目。保留其他ACL条目。</li>
<li><code>--set</code>：完全替换ACL，丢弃所有现有条目。所述<em>acl_spec</em>必须包括用户，组条目和其他用于与权限位兼容性。</li>
<li><em>acl_spec</em>：以逗号分隔的ACL条目列表。</li>
<li><em>path</em>：要修改的文件或目录。</li>
</ul>
<p>例子：</p>
<ul>
<li><code>hadoop fs -setfacl -m user：hadoop：rw- / file</code></li>
<li><code>hadoop fs -setfacl -x user：hadoop / file</code></li>
<li><code>hadoop fs -setfacl -b / file</code></li>
<li><code>hadoop fs -setfacl -k / dir</code></li>
<li><code>hadoop fs -setfacl --set user :: rw-，user：hadoop：rw-，group :: r - ，other :: r-- / file</code></li>
<li><code>hadoop fs -setfacl -R -m user：hadoop：rx / dir</code></li>
<li><code>hadoop fs -setfacl -m default：user：hadoop：rx / dir</code></li>
</ul>
<p>退出代码：</p>
<p>成功时返回0，错误时返回非零。</p>
<h2 id="setfattr"><a href="#setfattr" class="headerlink" title="setfattr"></a>setfattr</h2><p>用法：<code>hadoop fs -setfattr -n name [-v value] | -x name &lt;path&gt;</code></p>
<p>设置文件或目录的扩展属性名称和值。</p>
<p>选项：</p>
<ul>
<li>-n name：扩展属性名称。</li>
<li>-v value：扩展属性值。该值有三种不同的编码方法。如果参数用双引号括起来，那么值就是引号内的字符串。如果参数的前缀为0x或0X，则将其视为十六进制数。如果参数以0或0S开头，则将其视为base64编码。</li>
<li>-x name：删除扩展属性。</li>
<li><em>path</em>：文件或目录。</li>
</ul>
<p>例子：</p>
<ul>
<li><code>hadoop fs -setfattr -n user.myAttr -v myValue / file</code></li>
<li><code>hadoop fs -setfattr -n user.noValue / file</code></li>
<li><code>hadoop fs -setfattr -x user.myAttr / file</code></li>
</ul>
<p>退出代码：</p>
<p>成功时返回0，错误时返回非零。</p>
<h2 id="setrep"><a href="#setrep" class="headerlink" title="setrep"></a>setrep</h2><p>用法：<code>hadoop fs -setrep [-R] [-w] &lt;numReplicas&gt; &lt;path&gt;</code></p>
<p>更改文件的复制因子。如果<em>path</em>是目录，则命令以递归方式更改以<em>path为</em>根的目录树下的所有文件的复制因子。</p>
<p>选项：</p>
<ul>
<li>-w标志请求命令等待复制完成。这可能需要很长时间。</li>
<li>接受-R标志是为了向后兼容。它没有效果。</li>
</ul>
<p>例：</p>
<ul>
<li><code>hadoop fs -setrep -w 3 / user / hadoop / dir1</code></li>
</ul>
<p>退出代码：</p>
<p>成功时返回0，错误时返回-1。</p>
<h2 id="stat"><a href="#stat" class="headerlink" title="stat"></a>stat</h2><p>用法：<code>hadoop fs -stat [格式] &lt;路径&gt; ...</code></p>
<p>以指定格式打印有关<path></path>的文件/目录的统计信息。格式接受八进制（％a）和符号（％A），文件大小（字节）（％b），类型（％F），所有者组名（％g），名称（％n），块大小（％o）的权限），复制（％r），所有者的用户名（％u），访问日期（％x，％X）和修改日期（％y，％Y）。％x和％y将UTC日期显示为“yyyy-MM-dd HH：mm：ss”，％X和％Y显示自1970年1月1日UTC以来的毫秒数。如果未指定格式，则默认使用％y。</p>
<p>例：</p>
<ul>
<li><code>hadoop fs -stat“type：％F perm：％a％u：％g size：％b mtime：％y atime：％x name：％n”/ file</code></li>
</ul>
<p>退出代码：成功时返回0，错误时返回-1。</p>
<h2 id="tail"><a href="#tail" class="headerlink" title="tail"></a>tail</h2><p>用法：<code>hadoop fs -tail [-f] URI</code></p>
<p>显示文件的最后一千字节到stdout。</p>
<p>选项：</p>
<ul>
<li>-f选项将在文件增长时输出附加数据，如在Unix中一样。</li>
</ul>
<p>例：</p>
<ul>
<li><code>hadoop fs -tail路径名</code></li>
</ul>
<p>退出代码：成功时返回0，错误时返回-1。</p>
<h2 id="test"><a href="#test" class="headerlink" title="test"></a>test</h2><p>用法：<code>hadoop fs -test - [defsz] URI</code></p>
<p>选项：</p>
<ul>
<li>-d：f路径是目录，返回0。</li>
<li>-e：如果路径存在，则返回0。</li>
<li>-f：如果路径是文件，则返回0。</li>
<li>-s：如果路径不为空，则返回0。</li>
<li>-r：如果路径存在且授予读权限，则返回0。</li>
<li>-w：如果路径存在且授予写入权限，则返回0。</li>
<li>-z：如果文件长度为零，则返回0。</li>
</ul>
<p>例：</p>
<ul>
<li><code>hadoop fs -test -e filename</code></li>
</ul>
<h2 id="text"><a href="#text" class="headerlink" title="text"></a>text</h2><p>用法：<code>hadoop fs -text &lt;src&gt;</code></p>
<p>获取源文件并以文本格式输出文件。允许的格式是zip和TextRecordInputStream。</p>
<h2 id="touchz"><a href="#touchz" class="headerlink" title="touchz"></a>touchz</h2><p>用法：<code>hadoop fs -touchz URI [URI ...]</code></p>
<p>创建一个零长度的文件。如果文件存在非零长度，则返回错误。</p>
<p>例：</p>
<ul>
<li><code>hadoop fs -touchz pathname</code></li>
</ul>
<p>退出代码：成功时返回0，错误时返回-1。</p>
<h2 id="truncate"><a href="#truncate" class="headerlink" title="truncate"></a>truncate</h2><p>用法：<code>hadoop fs -truncate [-w] &lt;length&gt; &lt;paths&gt;</code></p>
<p>将与指定文件模式匹配的所有文件截断为指定的长度。</p>
<p>选项：</p>
<ul>
<li>该<code>-w</code>标志的要求，对块恢复命令如有必要，等待完成。如果没有-w标志，则在恢复过程中文件可能会保持一段时间不闭合。在此期间，无法重新打开文件以进行追加。</li>
</ul>
<p>例：</p>
<ul>
<li><code>hadoop fs -truncate 55 / user / hadoop / file1 / user / hadoop / file2</code></li>
<li><code>hadoop fs -truncate -w 127 hdfs：//nn1.example.com/user/hadoop/file1</code></li>
</ul>
<h3 id="usage"><a href="#usage" class="headerlink" title="usage"></a>usage</h3><p>用法：<code>hadoop fs -usage命令</code></p>
<p>返回单个命令的帮助。</p>
<h2 id="使用对象存储"><a href="#使用对象存储" class="headerlink" title="使用对象存储"></a>使用对象存储</h2><p>Hadoop FileSystem shell可与Object Stores（如Amazon S3，Azure WASB和OpenStack Swift）配合使用。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">＃创建一个目录</span><br><span class="line">hadoop fs -mkdir s3a：// bucket / datasets /</span><br><span class="line"></span><br><span class="line">＃从群集文件系统上传文件</span><br><span class="line">hadoop fs -put /datasets/example.orc s3a：// bucket / datasets /</span><br><span class="line"></span><br><span class="line">＃触摸文件</span><br><span class="line">hadoop fs -touchz wasb：//yourcontainer@youraccount.blob.core.windows.net/touched</span><br></pre></td></tr></table></figure>
<p>与普通文件系统不同，重命名对象存储中的文件和目录通常需要与被操作对象的大小成比例的时间。由于许多文件系统shell操作使用重命名作为操作的最后阶段，因此跳过该阶段可以避免长时间的延迟。</p>
<p>特别是，<code>put</code>和<code>copyFromLocal</code>命令都应该为直接上载设置<code>-d</code>选项。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Upload a file from the cluster filesystem</span></span><br><span class="line">hadoop fs -put -d /datasets/example.orc s3a://bucket/datasets/</span><br><span class="line"></span><br><span class="line"><span class="comment"># Upload a file from under the user's home directory in the local filesystem.</span></span><br><span class="line"><span class="comment"># Note it is the shell expanding the "~", not the hadoop fs command</span></span><br><span class="line">hadoop fs -copyFromLocal -d -f ~/datasets/devices.orc s3a://bucket/datasets/</span><br><span class="line"></span><br><span class="line"><span class="comment"># create a file from stdin</span></span><br><span class="line"><span class="comment"># the special "-" source means "use stdin"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"hello"</span> | hadoop fs -put -d -f - wasb://yourcontainer@youraccount.blob.core.windows.net/hello.txt</span><br></pre></td></tr></table></figure>
<p>可以下载和查看对象：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">＃将目录复制到本地文件系统</span><br><span class="line">hadoop fs -copyToLocal s3a：// bucket / datasets /</span><br><span class="line"></span><br><span class="line">＃将文件从对象库复制到集群文件系统。</span><br><span class="line">hadoop fs -get wasb：//yourcontainer@youraccount.blob.core.windows.net/hello.txt / examples</span><br><span class="line"></span><br><span class="line">＃打印对象</span><br><span class="line">hadoop fs -cat wasb：//yourcontainer@youraccount.blob.core.windows.net/hello.txt</span><br><span class="line"></span><br><span class="line">＃打印对象，必要时解压缩</span><br><span class="line">hadoop fs -text wasb：//yourcontainer@youraccount.blob.core.windows.net/hello.txt</span><br><span class="line"></span><br><span class="line"><span class="comment">##将日志文件下载到本地文件中</span></span><br><span class="line">hadoop fs -getmerge wasb：//yourcontainer@youraccount.blob.core.windows.net/logs \ * log.txt</span><br></pre></td></tr></table></figure>
<p>列出许多文件的命令往往比使用HDFS或其他文件系统时慢得多</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -count s3a://bucket/</span><br><span class="line">hadoop fs -du s3a://bucket/</span><br></pre></td></tr></table></figure>
<p>其他慢速命令包括<code>find</code>，<code>mv</code>，<code>cp</code>和<code>rm</code>。</p>
<h2 id="Find"><a href="#Find" class="headerlink" title="Find"></a><strong>Find</strong></h2><p>在提供路径下有许多目录的大型商店中，这可能会非常慢。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># enumerate all files in the object store's container.</span></span><br><span class="line">hadoop fs -find s3a://bucket/ -<span class="built_in">print</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># remember to escape the wildcards to stop the shell trying to expand them first</span></span><br><span class="line">hadoop fs -find s3a://bucket/datasets/ -name \*.txt -<span class="built_in">print</span></span><br></pre></td></tr></table></figure>
<h3 id="Rename"><a href="#Rename" class="headerlink" title="Rename"></a><strong>Rename</strong></h3><p>重命名文件的时间取决于其大小。</p>
<p>重命名目录的时间取决于该目录下所有文件的数量和大小。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -mv s3a：// bucket / datasets s3a：// bucket / historical</span><br></pre></td></tr></table></figure>
<p>如果操作中断，则对象存储将处于未定义状态。</p>
<h3 id="Copy"><a href="#Copy" class="headerlink" title="Copy"></a><strong>Copy</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -cp s3a://bucket/datasets s3a://bucket/historical</span><br></pre></td></tr></table></figure>
<p>复制操作读取每个文件，然后将其写回对象存储区; 完成的时间取决于要复制的数据量，以及本地计算机和对象存储库之间双向带宽。</p>
<p><strong>计算机离对象存储器越远，复制所用的时间越长</strong></p>
<h2 id="删除对象"><a href="#删除对象" class="headerlink" title="删除对象"></a>删除对象</h2><p>该<code>RM</code>命令删除对象和目录满对象。如果对象存储<em>最终</em>是<em>一致的</em>，则<code>fs ls</code>命令和其他访问器可能会暂时返回现在删除的对象的详细信息; 这是对象存储的工件，无法避免。</p>
<p>如果文件系统客户端配置为将文件复制到废纸篓目录，则该文件系统将位于存储桶中; 然后，<code>rm</code>操作将花费与数据大小成比例的时间。此外，删除的文件将继续产生存储成本。</p>
<p>要避免这种情况，请使用<code>-skipTrash</code>选项。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -rm -skipTrash s3a：// bucket / dataset</span><br></pre></td></tr></table></figure>
<p>可以使用<code>expunge</code>命令清除移动到<code>.Trash</code>目录的数据。由于此命令仅适用于默认文件系统，因此必须将其配置为使默认文件系统成为目标对象库。<code></code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -expunge -D fs.defaultFS = s3a：// bucket /</span><br></pre></td></tr></table></figure>
<h2 id="覆盖对象"><a href="#覆盖对象" class="headerlink" title="覆盖对象"></a>覆盖对象</h2><p>如果对象存储<em>最终</em>是<em>一致的</em>，则任何覆盖现有对象的操作可能不会立即对所有客户端/查询可见。即：稍后查询相同对象的状态或内容的操作可以获得前一个对象。在读取单个对象时，这有时可以在同一客户端中显示。</p>
<p>避免使用一系列覆盖对象的命令，然后立即处理更新的数据; 存在以下风险：将使用先前的数据。</p>
<h2 id="时间戳"><a href="#时间戳" class="headerlink" title="时间戳"></a>时间戳</h2><p>对象存储中对象和目录的时间戳可能不遵循HDFS中文件和目录的行为。</p>
<ol>
<li>对象的创建和初始修改时间将是它在对象库上创建的时间; 这将是写入过程的结束，而不是开始。</li>
<li>时间戳将取自对象存储基础架构的时钟，而不是客户端的时钟。</li>
<li>如果覆盖了对象，则将更新修改时间。</li>
<li>目录可能有也可能没有有效的时间戳。当更新下面的对象时，他们不太可能更新修改时间。</li>
<li>该<code>atime的</code>访问时间特征不被任何在Apache Hadoop的代码库中找到的对象存储的支持。</li>
</ol>
<p>有关这可能如何影响<code>distcp -update</code>操作的详细信息，请参阅<code>DistCp</code>文档。</p>
<h2 id="安全模型和操作"><a href="#安全模型和操作" class="headerlink" title="安全模型和操作"></a>安全模型和操作</h2><p>对象存储的安全性和权限模型通常与Unix风格的文件系统非常不同; 查询或操纵权限的操作通常不受支持。</p>
<p>适用的操作包括：<code>chgrp</code>，<code>chmod</code>，<code>chown</code>，<code>getfacl</code>和<code>setfacl</code>。相关属性命令<code>getfattr</code>和<code>setfattr</code>通常也不可用。</p>
<ul>
<li>列出权限和用户/组详细信息的文件系统命令通常模拟这些详细信息。</li>
<li>尝试保留权限的操作（例如<code>fs -put -p</code>）不会因此原因保留权限。（特例：<code>wasb：//</code>，它保留权限但不强制执行）。</li>
</ul>
<p>当与只读对象存储交互时，“list”和“stat”命令中的权限可以指示用户具有写访问权限，而实际上他们没有。</p>
<p>对象存储通常具有自己的权限模型，模型可以通过特定于商店的工具进行操作。请注意，对象存储可能提供的某些权限（例如只写路径或根路径上的不同权限）可能与Hadoop文件系统客户端不兼容。这些往往需要对它们写入数据的整个对象存储桶/容器进行完全读写访问。</p>
<p>作为如何模拟权限的示例，这里是亚马逊的公共，只读桶Landsat图像的列表：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ hadoop fs -ls s3a://landsat-pds/</span><br><span class="line">Found 10 items</span><br><span class="line">drwxrwxrwx   - mapred          0 2016-09-26 12:16 s3a://landsat-pds/L8</span><br><span class="line">-rw-rw-rw-   1 mapred      23764 2015-01-28 18:13 s3a://landsat-pds/index.html</span><br><span class="line">drwxrwxrwx   - mapred          0 2016-09-26 12:16 s3a://landsat-pds/landsat-pds_stats</span><br><span class="line">-rw-rw-rw-   1 mapred        105 2016-08-19 18:12 s3a://landsat-pds/robots.txt</span><br><span class="line">-rw-rw-rw-   1 mapred         38 2016-09-26 12:16 s3a://landsat-pds/run_info.json</span><br><span class="line">drwxrwxrwx   - mapred          0 2016-09-26 12:16 s3a://landsat-pds/runs</span><br><span class="line">-rw-rw-rw-   1 mapred   27458808 2016-09-26 12:16 s3a://landsat-pds/scene_list.gz</span><br><span class="line">drwxrwxrwx   - mapred          0 2016-09-26 12:16 s3a://landsat-pds/tarq</span><br><span class="line">drwxrwxrwx   - mapred          0 2016-09-26 12:16 s3a://landsat-pds/tarq_corrupt</span><br><span class="line">drwxrwxrwx   - mapred          0 2016-09-26 12:16 s3a://landsat-pds/<span class="built_in">test</span></span><br></pre></td></tr></table></figure>
<ol>
<li>所有文件都列为具有完全读/写权限。</li>
<li>所有目录似乎都具有完整的<code>rwx</code>权限。</li>
<li>所有文件的复制计数为“1”。</li>
<li>所有文件和目录的所有者被声明为当前用户（<code>mapred</code>）。</li>
<li>所有目录的时间戳实际上是执行<code>-ls</code>操作的时间戳。这是因为这些目录不是商店中的实际对象; 它们是基于路径下对象存在的模拟目录。</li>
</ol>
<p>当尝试删除其中一个文件时，操作失败 - 尽管<code>ls</code>命令显示的权限：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ hadoop fs -rm s3a://landsat-pds/scene_list.gz</span><br><span class="line">rm: s3a://landsat-pds/scene_list.gz: delete on s3a://landsat-pds/scene_list.gz:</span><br><span class="line">  com.amazonaws.services.s3.model.AmazonS3Exception: Access Denied (Service: Amazon S3;</span><br><span class="line">  Status Code: 403; Error Code: AccessDenied; Request ID: 1EF98D5957BCAB3D),</span><br><span class="line">  S3 Extended Request ID: wi3veOXFuFqWBUCJgV3Z+NQVj9gWgZVdXlPU4KBbYMsw/gA+hyhRXcaQ+PogOsDgHh31HlTCebQ=</span><br></pre></td></tr></table></figure>
<p>这表明列出的权限不能作为写访问的证据; 只有对象操作才能确定这一点。</p>
<p>请注意，Microsoft Azure WASB文件系统允许设置和检查权限，但实际上并未强制实施权限。此功能提供了使用DistCp备份HDFS目录树的功能，其权限得以保留，权限可在将目录复制回HDFS时恢复。但是，为了保护对对象存储中数据的访问，<span class="exturl" data-url="aHR0cHM6Ly9henVyZS5taWNyb3NvZnQuY29tL2VuLXVzL2RvY3VtZW50YXRpb24vYXJ0aWNsZXMvc3RvcmFnZS1zZWN1cml0eS1ndWlkZS8=" title="https://azure.microsoft.com/en-us/documentation/articles/storage-security-guide/">必须使用<i class="fa fa-external-link"></i></span> Azure <span class="exturl" data-url="aHR0cHM6Ly9henVyZS5taWNyb3NvZnQuY29tL2VuLXVzL2RvY3VtZW50YXRpb24vYXJ0aWNsZXMvc3RvcmFnZS1zZWN1cml0eS1ndWlkZS8=" title="https://azure.microsoft.com/en-us/documentation/articles/storage-security-guide/">自己的模型和工具<i class="fa fa-external-link"></i></span>。</p>
<h2 id="Commands-of-limited-value"><a href="#Commands-of-limited-value" class="headerlink" title="Commands of limited value"></a>Commands of limited value</h2><p>以下是通常没有效果的shell命令列表 - 实际上可能会失败。</p>
<table>
<thead>
<tr>
<th>command</th>
<th>limitations</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>appendToFile</code></td>
<td>generally unsupported</td>
</tr>
<tr>
<td><code>checksum</code></td>
<td>the usual checksum is “NONE”</td>
</tr>
<tr>
<td><code>chgrp</code></td>
<td>generally unsupported permissions model; no-op</td>
</tr>
<tr>
<td><code>chmod</code></td>
<td>generally unsupported permissions model; no-op</td>
</tr>
<tr>
<td><code>chown</code></td>
<td>generally unsupported permissions model; no-op</td>
</tr>
<tr>
<td><code>createSnapshot</code></td>
<td>generally unsupported</td>
</tr>
<tr>
<td><code>deleteSnapshot</code></td>
<td>generally unsupported</td>
</tr>
<tr>
<td><code>df</code></td>
<td>default values are normally displayed</td>
</tr>
<tr>
<td><code>getfacl</code></td>
<td>may or may not be supported</td>
</tr>
<tr>
<td><code>getfattr</code></td>
<td>generally supported</td>
</tr>
<tr>
<td><code>renameSnapshot</code></td>
<td>generally unsupported</td>
</tr>
<tr>
<td><code>setfacl</code></td>
<td>generally unsupported permissions model</td>
</tr>
<tr>
<td><code>setfattr</code></td>
<td>generally unsupported permissions model</td>
</tr>
<tr>
<td><code>setrep</code></td>
<td>has no effect</td>
</tr>
<tr>
<td><code>truncate</code></td>
<td>generally unsupported</td>
</tr>
</tbody>
</table>
<p>不同的对象存储客户端<em>可能</em>支持这些命令：请查阅文档并针对目标存储进行测试。</p>

      
    </div>

    <div>
  
      <div>

    <div style="text-align:center;color: #ccc;">-------------本文结束，感谢欣赏-------------</div>

</div>
  
    </div>

    

    
    
    

    

    

    
       
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Hadoop/" rel="tag"><i class="fa fa-tag"></i> Hadoop</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/Hadoop集群设置/" rel="next" title="Hadoop集群设置">
                <i class="fa fa-chevron-left"></i> Hadoop集群设置
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/Hadoop兼容性/" rel="prev" title="Hadoop兼容性">
                Hadoop兼容性 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC8zODU3NS8xNTEwMw=="></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/me.jpg"
                alt="逍遥" />
            
              <p class="site-author-name" itemprop="name">逍遥</p>
              <p class="site-description motion-element" itemprop="description">路漫漫其修远兮，吾将上下而求索</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">20</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">8</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">14</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3hndW9qaW5n" title="GitHub &rarr; https://github.com/xguojing"><i class="fa fa-fw fa-github"></i>GitHub</span>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <span class="exturl" data-url="bWFpbHRvOmd1YW5nZW4udGFuZ0BnbWFpbC5jb20=" title="E-Mail &rarr; mailto:guangen.tang@gmail.com"><i class="fa fa-fw fa-envelope"></i>E-Mail</span>
                </span>
              
            </div>
          

          
             <div class="cc-license motion-element" itemprop="license">
              
                
              
              
              
              <span class="exturl cc-opacity" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC8="><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" /></span>
             </div>
          

          
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#概览"><span class="nav-number">1.</span> <span class="nav-text">概览</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#appendToFile"><span class="nav-number">2.</span> <span class="nav-text">appendToFile</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#cat"><span class="nav-number">3.</span> <span class="nav-text">cat</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#checksum"><span class="nav-number">4.</span> <span class="nav-text">checksum</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#chgrp"><span class="nav-number">5.</span> <span class="nav-text">chgrp</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHMOD"><span class="nav-number">6.</span> <span class="nav-text">CHMOD</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHOWN"><span class="nav-number">7.</span> <span class="nav-text">CHOWN</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#copyFromLocal"><span class="nav-number">8.</span> <span class="nav-text">copyFromLocal</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#copyToLocal"><span class="nav-number">9.</span> <span class="nav-text">copyToLocal</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#count"><span class="nav-number">10.</span> <span class="nav-text">count</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CP"><span class="nav-number">11.</span> <span class="nav-text">CP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#createSnapshot"><span class="nav-number">12.</span> <span class="nav-text">createSnapshot</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#deleteSnapshot"><span class="nav-number">13.</span> <span class="nav-text">deleteSnapshot</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#df"><span class="nav-number">14.</span> <span class="nav-text">df</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#du"><span class="nav-number">15.</span> <span class="nav-text">du</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#dus"><span class="nav-number">16.</span> <span class="nav-text">dus</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#expunge"><span class="nav-number">17.</span> <span class="nav-text">expunge</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#find"><span class="nav-number">18.</span> <span class="nav-text">find</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#get"><span class="nav-number">19.</span> <span class="nav-text">get</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#getfacl"><span class="nav-number">20.</span> <span class="nav-text">getfacl</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#getfattr"><span class="nav-number">21.</span> <span class="nav-text">getfattr</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#getmerge"><span class="nav-number">22.</span> <span class="nav-text">getmerge</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#help"><span class="nav-number">23.</span> <span class="nav-text">help</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ls"><span class="nav-number">24.</span> <span class="nav-text">ls</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#lsr"><span class="nav-number">25.</span> <span class="nav-text">lsr</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mkdir"><span class="nav-number">26.</span> <span class="nav-text">mkdir</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#moveFromLocal"><span class="nav-number">27.</span> <span class="nav-text">moveFromLocal</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#moveToLocal"><span class="nav-number">28.</span> <span class="nav-text">moveToLocal</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mv"><span class="nav-number">29.</span> <span class="nav-text">mv</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#put"><span class="nav-number">30.</span> <span class="nav-text">put</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#renameSnapshot"><span class="nav-number">31.</span> <span class="nav-text">renameSnapshot</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#rm"><span class="nav-number">32.</span> <span class="nav-text">rm</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#rmdir"><span class="nav-number">33.</span> <span class="nav-text">rmdir</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#rmr"><span class="nav-number">34.</span> <span class="nav-text">rmr</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#setfacl"><span class="nav-number">35.</span> <span class="nav-text">setfacl</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#setfattr"><span class="nav-number">36.</span> <span class="nav-text">setfattr</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#setrep"><span class="nav-number">37.</span> <span class="nav-text">setrep</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#stat"><span class="nav-number">38.</span> <span class="nav-text">stat</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#tail"><span class="nav-number">39.</span> <span class="nav-text">tail</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#test"><span class="nav-number">40.</span> <span class="nav-text">test</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#text"><span class="nav-number">41.</span> <span class="nav-text">text</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#touchz"><span class="nav-number">42.</span> <span class="nav-text">touchz</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#truncate"><span class="nav-number">43.</span> <span class="nav-text">truncate</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#usage"><span class="nav-number">43.1.</span> <span class="nav-text">usage</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用对象存储"><span class="nav-number">44.</span> <span class="nav-text">使用对象存储</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Find"><span class="nav-number">45.</span> <span class="nav-text">Find</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Rename"><span class="nav-number">45.1.</span> <span class="nav-text">Rename</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Copy"><span class="nav-number">45.2.</span> <span class="nav-text">Copy</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#删除对象"><span class="nav-number">46.</span> <span class="nav-text">删除对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#覆盖对象"><span class="nav-number">47.</span> <span class="nav-text">覆盖对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#时间戳"><span class="nav-number">48.</span> <span class="nav-text">时间戳</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安全模型和操作"><span class="nav-number">49.</span> <span class="nav-text">安全模型和操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Commands-of-limited-value"><span class="nav-number">50.</span> <span class="nav-text">Commands of limited value</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">  <span class="exturl" data-url="aHR0cDovL3d3dy5taWl0YmVpYW4uZ292LmNu">浙ICP备18019569号 </span>&copy; 2017 – <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">逍遥</span>

  

  
</div>


  <div class="powered-by">由 <span class="exturl theme-link" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <span class="exturl theme-link" data-url="aHR0cHM6Ly90aGVtZS1uZXh0Lm9yZw==">NexT.Gemini</span></div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.5.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.5.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.5.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.5.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.5.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.5.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.5.0"></script>



  



  
    <script type="text/javascript">
      window.livereOptions = {
        refer: 'Hadoop-FileSystem-Shell/'
      };
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  










  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script>
    
    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();

      Counter('get', '/classes/Counter', { where: JSON.stringify({ url }) })
        .done(function ({ results }) {
          if (results.length > 0) {
            var counter = results[0];
            
              var $element = $(document.getElementById(url));
              $element.find('.leancloud-visitors-count').text(counter.time + 1);
            
            Counter('put', `/classes/Counter/${counter.objectId}`, JSON.stringify({ time: { "__op":"Increment", "amount":1 } }))
            
            .fail(function ({ responseJSON }) {
                console.log('Failed to save Visitor num, with error message: ' + responseJSON.error);
            })
          } else {
            
              var $element = $(document.getElementById(url));
              $element.find('.leancloud-visitors-count').text('Counter not initialized! See more at console err msg.');
              console.error('ATTENTION! LeanCloud counter has security bug, see here how to solve it: https://github.com/theme-next/hexo-leancloud-counter-security. \n But you also can use LeanCloud without security, by set \'security\' option to \'false\'.');
            
          }
        })
      .fail(function ({ responseJSON }) {
        console.log('LeanCloud Counter Error:' + responseJSON.code + " " + responseJSON.error);
      });
    }
    

    $(function() {
      $.get('https://app-router.leancloud.cn/2/route?appId=' + "FYLDj00PapcSmcPw07cBM2fi-gzGzoHsz")
        .done(function ({ api_server }) {
          var Counter = function (method, url, data) {
            return $.ajax({
              method: method,
              url: `https://${api_server}/1.1${url}`,
              headers: {
                'X-LC-Id': "FYLDj00PapcSmcPw07cBM2fi-gzGzoHsz",
                'X-LC-Key': "UT8Ng3EYweYgf39BSxjUJ5gC",
                'Content-Type': 'application/json',
              },
              data: data,
            });
          };
          
          addCount(Counter);
          
        })
    });
  </script>



  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  

  
  

  
  

  
    
      <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      },
      TeX: {equationNumbers: { autoNumber: "AMS" }}
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<script type="text/javascript" src="//cdn.jsdelivr.net/npm/mathjax@2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    
  


  
  

  

  

  
  <script type="text/javascript" src="/js/src/exturl.js?v=6.5.0"></script>


  

  

  
  

  
  

  
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/pdfobject@2.1.1/pdfobject.min.js"></script>
    <script type="text/javascript">
    var options = {
      pdfOpenParams: {
        navpanes: 0,
        toolbar: 0,
        statusbar: 0,
        pagemode: "thumbs",
        view: "FitV"
      },
      PDFJS_URL: "/lib/pdf/web/viewer.html",
      height: "500px"
    };
    $("#main a").each(function() {
      var href = $(this).attr("href");
      if (!href) return;
      if (href.endsWith(".pdf") || href.endsWith(".pdf/")) {
        var id = "pdf" + Math.floor(Math.random() * 10000);
        $(this).after("<div id='" + id + "'></div>").remove();
        PDFObject.embed(href, "#" + id, options);
      }
    });
    </script>
    <style>
    .pdfobject-container {
      position: relative;
      overflow: auto;
      width: 100%;
      height: 500px;
    }
    </style>
  


</body>
</html>
